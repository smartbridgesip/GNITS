[{"id":"61eff0bb.359fe","type":"function","z":"b541f206.afb93","name":"","func":"\nvar medtime = msg.payload.time;\nvar medname = msg.payload.medicine;\n\nvar d = new Date();\n\nvar utc = d.getTime() + (d.getTimezoneOffset() * 60000);\n\nvar offset = 5.5; // This is the offset for UTC+3, in your case (UTC+1) should be 1\n\nnewDate = new Date(utc + (3600000*offset));\n\nvar day = newDate.toLocaleString('en-US', {\n       weekday: 'long',\n    })\nvar time1 = newDate.toLocaleString().slice(10,21);\n\n  var medfirst = medtime.split(\":\");\n   var actualfirst = time1.split(\":\");\n   \n   \n   if(medfirst[0].includes(actualfirst[0]))\n   {\n       msg.payload = medname;\n   }\n   else\n   {\n       msg.payload = \"\";\n   }\n       \n  \n\n\n//msg.payload = {\"medtime\":medfirst[0],\"time1\":actualfirst[0]}\n\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":80,"wires":[["65755aad.adeae4","98ea6300.ab168"]]}]